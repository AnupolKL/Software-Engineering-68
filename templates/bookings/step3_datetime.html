{% extends "base.html" %}
{% block title %}เลือกวันและเวลา | CUTCAMP{% endblock %}
{% block content %}
<section class="max-w-3xl mx-auto p-6 space-y-6 bg-[#2a3731] rounded-xl">
  <h1 class="text-2xl font-bold text-white">เลือกวันและเวลา</h1>
  <p class="text-white">บริการ: {{ service.name }} | ช่าง: {{ barber.username }}</p>

  <!-- เลือกวัน -->
  <form method="post" class="space-y-4 border rounded p-4 bg-white">
    {% csrf_token %}
    <label class="block text-sm mb-1">เลือกวัน</label>
    <input type="date" name="date" class="border rounded p-2" value="{{ date }}">
    <button class="bg-green-700 text-white px-4 py-2 rounded">ค้นหาเวลาว่าง</button>
  </form>

  {% if slots %}
    <div class="grid sm:grid-cols-3 gap-3">
      {% for s in slots %}
        <form method="post" action="{% url 'booking_confirm' service.id barber.id %}">
          {% csrf_token %}
          <input type="hidden" name="start_at" value="{{ s|date:'c' }}">
          <button class="w-full border rounded p-2 bg-white hover:bg-gray-50 ">
            {{ s|date:"H:i" }}
          </button>
        </form>
      {% endfor %}
    </div>
  {% endif %}
</section>
{% endblock %}
